<div class="h-full flex justify-between flex-col" *ngIf="(user$ | async) as user" >
  <section class="p-4">
      <button (click)="unselectConversation()" class="md:hidden btn btn-square btn-ghost text-2xl absolute left-2 top-2">
        <fa-icon [icon]="['fas', 'angle-left']"></fa-icon>
      </button>
      <div #chat [scrollTop]="chat.scrollHeight" *ngFor="let message of (conversation$ | async)?.messages">
        <div class="chat" [ngClass]="message.senderId == user.id ? 'chat-end' : 'chat-start' ">
          <div class="chat-image avatar">
            <div class="w-10 rounded-full">
              <img alt="Tailwind CSS chat bubble component" [src]="message.senderId == user.id ? user.avatar : (contact$ | async)?.avatar" />
            </div>
          </div>
          <div class="chat-bubble">{{message.text}}</div>
        </div>
      </div>
    </section>
    <app-conversation-create 
    *ngIf="(conversation$ | async) as conversation"
    [conversationId]="conversation.id" 
    [senderId]="user.id" 
    [recipientId]="conversation.userOneId == user.id ? conversation.userTwoId : conversation.userOneId"
    >
    </app-conversation-create>
</div>

